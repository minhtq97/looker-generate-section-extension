{"version":3,"file":"FieldTimeSelect.js","names":["React","forwardRef","useState","styled","FloatingLabelField","omitFieldProps","pickFieldProps","getHasValue","useFormContext","Tooltip","useID","useTranslation","InputTimeSelect","VisuallyHidden","FieldTimeSelect","props","ref","validationMessage","id","_omitFieldProps","onChange","propsOnChange","fieldProps","_objectWithoutProperties","_excluded","formatError","setFormatError","t","value","onBlur","errorMessage","message","type","createElement","_extends","hasValue","placement","content","isOpen","canClose","validationType","withConfig","displayName","componentId","_t","_"],"sources":["../../../../../src/Form/Fields/FieldTimeSelect/FieldTimeSelect.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { Ref } from 'react';\nimport React, { forwardRef, useState } from 'react';\nimport styled from 'styled-components';\nimport type { FloatingLabelFieldProps } from '../Field/types';\nimport type { ValidationMessageProps } from '../../ValidationMessage';\nimport { FloatingLabelField, omitFieldProps, pickFieldProps } from '../Field';\nimport { getHasValue } from '../Field/useFloatingLabel';\nimport { useFormContext } from '../../Form';\nimport { Tooltip } from '../../../Tooltip';\nimport { useID, useTranslation } from '../../../utils';\nimport type { InputTimeSelectProps } from '../../Inputs/InputTimeSelect';\nimport { InputTimeSelect } from '../../Inputs/InputTimeSelect';\nimport { VisuallyHidden } from '../../../VisuallyHidden';\n\nexport interface FieldTimeSelectProps\n  extends FloatingLabelFieldProps,\n    InputTimeSelectProps {}\n\nexport const FieldTimeSelect = styled(\n  forwardRef((props: FieldTimeSelectProps, ref: Ref<HTMLInputElement>) => {\n    const validationMessage = useFormContext(props);\n    const id = useID(props.id);\n    const { onChange: propsOnChange, ...fieldProps } = omitFieldProps(props);\n    const [formatError, setFormatError] = useState('');\n    const { t } = useTranslation('FieldTimeSelect');\n    const onChange = (value?: string) => {\n      propsOnChange?.(value);\n      if (value) {\n        setFormatError('');\n      } else {\n        setFormatError(t('Please use format HHMM'));\n      }\n    };\n\n    const onBlur = () => {\n      // Clear the format errors on blur since the combobox will revert back to\n      // the previously selected value or the new value is it is valid\n      setFormatError('');\n    };\n    const errorMessage = (\n      formatError ? { message: formatError, type: 'error' } : validationMessage\n    ) as ValidationMessageProps;\n    return (\n      <FloatingLabelField\n        data-testid=\"FieldSelectMultiId\"\n        {...pickFieldProps(props)}\n        id={id}\n        hasValue={getHasValue(props)}\n      >\n        <Tooltip\n          placement=\"top-end\"\n          content={formatError}\n          isOpen={true}\n          canClose={() => false}\n        >\n          <div>\n            <VisuallyHidden aria-live=\"polite\">{formatError}</VisuallyHidden>\n            <InputTimeSelect\n              {...fieldProps}\n              aria-labelledby={`labelledby-${id}`}\n              id={id}\n              validationType={errorMessage?.type}\n              ref={ref}\n              onChange={onChange}\n              onBlur={onBlur}\n            />\n          </div>\n        </Tooltip>\n      </FloatingLabelField>\n    );\n  })\n)``;\n"],"mappings":";;;;;;AAMA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAOC,MAAM,MAAM,mBAAmB;AAGtC,SAASC,kBAAkB,EAAEC,cAAc,EAAEC,cAAc,QAAQ,UAAU;AAC7E,SAASC,WAAW,QAAQ,2BAA2B;AACvD,SAASC,cAAc,QAAQ,YAAY;AAC3C,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,KAAK,EAAEC,cAAc,QAAQ,gBAAgB;AAEtD,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,cAAc,QAAQ,yBAAyB;AAMxD,OAAO,MAAMC,eAAe,GAAGX,MAAM,CACnCF,UAAU,CAAC,CAACc,KAA2B,EAAEC,GAA0B,KAAK;EACtE,MAAMC,iBAAiB,GAAGT,cAAc,CAACO,KAAK,CAAC;EAC/C,MAAMG,EAAE,GAAGR,KAAK,CAACK,KAAK,CAACG,EAAE,CAAC;EAC1B,MAAAC,eAAA,GAAmDd,cAAc,CAACU,KAAK,CAAC;IAAlE;MAAEK,QAAQ,EAAEC;IAA6B,CAAC,GAAAF,eAAA;IAAZG,UAAU,GAAAC,wBAAA,CAAAJ,eAAA,EAAAK,SAAA;EAC9C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM;IAAEyB;EAAE,CAAC,GAAGhB,cAAc,CAAC,iBAAiB,CAAC;EAC/C,MAAMS,QAAQ,GAAIQ,KAAc,IAAK;IACnCP,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAGO,KAAK,CAAC;IACtB,IAAIA,KAAK,EAAE;MACTF,cAAc,CAAC,EAAE,CAAC;IACpB,CAAC,MAAM;MACLA,cAAc,CAACC,CAAC,CAAC,wBAAwB,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,MAAME,MAAM,GAAGA,CAAA,KAAM;IAGnBH,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EACD,MAAMI,YAAY,GAChBL,WAAW,GAAG;IAAEM,OAAO,EAAEN,WAAW;IAAEO,IAAI,EAAE;EAAQ,CAAC,GAAGf,iBAC/B;EAC3B,OACEjB,KAAA,CAAAiC,aAAA,CAAC7B,kBAAkB,EAAA8B,QAAA;IACjB,eAAY;EAAoB,GAC5B5B,cAAc,CAACS,KAAK,CAAC;IACzBG,EAAE,EAAEA,EAAG;IACPiB,QAAQ,EAAE5B,WAAW,CAACQ,KAAK;EAAE,IAE7Bf,KAAA,CAAAiC,aAAA,CAACxB,OAAO;IACN2B,SAAS,EAAC,SAAS;IACnBC,OAAO,EAAEZ,WAAY;IACrBa,MAAM,EAAE,IAAK;IACbC,QAAQ,EAAEA,CAAA,KAAM;EAAM,GAEtBvC,KAAA,CAAAiC,aAAA,cACEjC,KAAA,CAAAiC,aAAA,CAACpB,cAAc;IAAC,aAAU;EAAQ,GAAEY,WAA4B,CAAC,EACjEzB,KAAA,CAAAiC,aAAA,CAACrB,eAAe,EAAAsB,QAAA,KACVZ,UAAU;IACd,mBAAkB,cAAaJ,EAAG,EAAE;IACpCA,EAAE,EAAEA,EAAG;IACPsB,cAAc,EAAEV,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEE,IAAK;IACnChB,GAAG,EAAEA,GAAI;IACTI,QAAQ,EAAEA,QAAS;IACnBS,MAAM,EAAEA;EAAO,EAChB,CACE,CACE,CACS,CAAC;AAEzB,CAAC,CACH,CAAC,CAAAY,UAAA;EAAAC,WAAA;EAAAC,WAAA;AAAA,GAAAC,EAAA,KAAAA,EAAA,GAAAC,CAAC,IAAC"}