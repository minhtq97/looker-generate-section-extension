{"version":3,"file":"options.js","names":["getComboboxText","getMatchingOption","value","options","find","option","getOption","matchingOption","label","labelProps","undefined","_objectSpread","getOptions","values","map","compareOption","toLowerCase","getFirstOption","optionAsGroup","notInOptions","currentOptions","inputValue","checkForIcon","icon","optionsHaveIcons","length","some"],"sources":["../../../../../../src/Form/Inputs/Select/utils/options.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { ComboboxOptionObject } from '../../Combobox';\nimport { getComboboxText } from '../../Combobox';\nimport type {\n  SelectOptionGroupProps,\n  SelectOptionObject,\n  SelectOptionProps,\n} from '../types';\n\nexport function getMatchingOption(\n  value?: string,\n  options?: SelectOptionObject[]\n) {\n  return options?.find(option => option.value === value);\n}\n\nexport function getOption(value?: string, options?: SelectOptionObject[]) {\n  const matchingOption = getMatchingOption(value, options);\n  const label = matchingOption?.label;\n  // If this is a filterable Select and the current option has been filtered out\n  // leave label out, so that the matching against the option saved in ComboboxContext won't fail\n  const labelProps = label ? { label } : {};\n  return value !== undefined ? { ...labelProps, value } : undefined;\n}\n\nexport function getOptions(\n  values?: string[],\n  options?: SelectOptionObject[]\n): SelectOptionObject[] | undefined {\n  if (!values) return undefined;\n  return values.map(value => ({\n    label: getComboboxText(value, options),\n    value,\n  }));\n}\n\nexport function compareOption(option: { value: string }, value: string) {\n  return getComboboxText(option).toLowerCase() === value.toLowerCase();\n}\n\nexport function getFirstOption(\n  options: SelectOptionProps[]\n): SelectOptionObject {\n  const optionAsGroup = options[0] as SelectOptionGroupProps;\n  if (optionAsGroup && optionAsGroup.options) return optionAsGroup.options[0];\n  return options[0] as SelectOptionObject;\n}\n\n// Is a value contained the specified options (logic to show the on-the-fly \"Create\" option)\nexport function notInOptions(\n  currentOptions: ComboboxOptionObject[],\n  options?: SelectOptionObject[],\n  inputValue?: string\n) {\n  if (!inputValue) return false;\n  if (currentOptions.find(option => compareOption(option, inputValue))) {\n    return false;\n  }\n  if (!options) return true;\n  return (\n    options.find(option => compareOption(option, inputValue)) === undefined\n  );\n}\n\nconst checkForIcon = (option: SelectOptionObject) => option.icon !== undefined;\n\nexport const optionsHaveIcons = (options?: SelectOptionObject[]) => {\n  if (!options || options.length === 0) return false;\n  return options.some(option => checkForIcon(option));\n};\n"],"mappings":";;;;;AAMA,SAASA,eAAe,QAAQ,gBAAgB;AAOhD,OAAO,SAASC,iBAAiBA,CAC/BC,KAAc,EACdC,OAA8B,EAC9B;EACA,OAAOA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACH,KAAK,KAAKA,KAAK,CAAC;AACxD;AAEA,OAAO,SAASI,SAASA,CAACJ,KAAc,EAAEC,OAA8B,EAAE;EACxE,MAAMI,cAAc,GAAGN,iBAAiB,CAACC,KAAK,EAAEC,OAAO,CAAC;EACxD,MAAMK,KAAK,GAAGD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEC,KAAK;EAGnC,MAAMC,UAAU,GAAGD,KAAK,GAAG;IAAEA;EAAM,CAAC,GAAG,CAAC,CAAC;EACzC,OAAON,KAAK,KAAKQ,SAAS,GAAAC,aAAA,CAAAA,aAAA,KAAQF,UAAU;IAAEP;EAAK,KAAKQ,SAAS;AACnE;AAEA,OAAO,SAASE,UAAUA,CACxBC,MAAiB,EACjBV,OAA8B,EACI;EAClC,IAAI,CAACU,MAAM,EAAE,OAAOH,SAAS;EAC7B,OAAOG,MAAM,CAACC,GAAG,CAACZ,KAAK,KAAK;IAC1BM,KAAK,EAAER,eAAe,CAACE,KAAK,EAAEC,OAAO,CAAC;IACtCD;EACF,CAAC,CAAC,CAAC;AACL;AAEA,OAAO,SAASa,aAAaA,CAACV,MAAyB,EAAEH,KAAa,EAAE;EACtE,OAAOF,eAAe,CAACK,MAAM,CAAC,CAACW,WAAW,CAAC,CAAC,KAAKd,KAAK,CAACc,WAAW,CAAC,CAAC;AACtE;AAEA,OAAO,SAASC,cAAcA,CAC5Bd,OAA4B,EACR;EACpB,MAAMe,aAAa,GAAGf,OAAO,CAAC,CAAC,CAA2B;EAC1D,IAAIe,aAAa,IAAIA,aAAa,CAACf,OAAO,EAAE,OAAOe,aAAa,CAACf,OAAO,CAAC,CAAC,CAAC;EAC3E,OAAOA,OAAO,CAAC,CAAC,CAAC;AACnB;AAGA,OAAO,SAASgB,YAAYA,CAC1BC,cAAsC,EACtCjB,OAA8B,EAC9BkB,UAAmB,EACnB;EACA,IAAI,CAACA,UAAU,EAAE,OAAO,KAAK;EAC7B,IAAID,cAAc,CAAChB,IAAI,CAACC,MAAM,IAAIU,aAAa,CAACV,MAAM,EAAEgB,UAAU,CAAC,CAAC,EAAE;IACpE,OAAO,KAAK;EACd;EACA,IAAI,CAAClB,OAAO,EAAE,OAAO,IAAI;EACzB,OACEA,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIU,aAAa,CAACV,MAAM,EAAEgB,UAAU,CAAC,CAAC,KAAKX,SAAS;AAE3E;AAEA,MAAMY,YAAY,GAAIjB,MAA0B,IAAKA,MAAM,CAACkB,IAAI,KAAKb,SAAS;AAE9E,OAAO,MAAMc,gBAAgB,GAAIrB,OAA8B,IAAK;EAClE,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACsB,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;EAClD,OAAOtB,OAAO,CAACuB,IAAI,CAACrB,MAAM,IAAIiB,YAAY,CAACjB,MAAM,CAAC,CAAC;AACrD,CAAC"}