{"version":3,"file":"AccordionLegacy.js","names":["React","Children","isValidElement","mergeClassNames","AccordionContent","AccordionDisclosure","isLegacyComposition","children","count","AccordionLegacy","_ref","contentDomProps","disclosureProps","isOpen","props","_objectWithoutProperties","_excluded","accordionChildren","forEach","child","isAccordionDisclosure","type","isAccordionContent","push","cloneElement","_objectSpread","className","key","createElement"],"sources":["../../../src/Accordion/AccordionLegacy.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CompatibleHTMLProps } from '@looker/design-tokens';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { Children, isValidElement } from 'react';\nimport { mergeClassNames } from '../utils';\nimport { AccordionContent } from './AccordionContent';\nimport { AccordionDisclosure } from './AccordionDisclosure';\n\nexport const isLegacyComposition = (children: ReactNode) =>\n  Children.count(children) === 2;\n\ntype DomProps = CompatibleHTMLProps<HTMLElement>;\n\ntype AccordionLegacyProps = DomProps & {\n  children: ReactNode;\n  contentDomProps: DomProps;\n  disclosureProps: DomProps;\n  isOpen: boolean;\n};\n\nexport const AccordionLegacy = ({\n  children,\n  contentDomProps,\n  disclosureProps,\n  isOpen,\n  ...props\n}: AccordionLegacyProps) => {\n  const accordionChildren = [] as ReactNode[];\n\n  Children.forEach(children, child => {\n    if (isValidElement(child)) {\n      const isAccordionDisclosure =\n        (child as ReactElement<unknown>).type === AccordionDisclosure;\n      const isAccordionContent =\n        (child as ReactElement<unknown>).type === AccordionContent;\n\n      if (isAccordionDisclosure) {\n        accordionChildren.push(\n          React.cloneElement(child, {\n            ...disclosureProps,\n            className: mergeClassNames([\n              disclosureProps.className,\n              child.props.className,\n            ]),\n            key: 'accordion-disclosure',\n          })\n        );\n      } else if (isAccordionContent && isOpen) {\n        accordionChildren.push(\n          React.cloneElement(child, {\n            ...contentDomProps,\n            className: mergeClassNames([\n              child.props.className,\n              contentDomProps.className,\n            ]),\n            key: 'accordion-content',\n          })\n        );\n      }\n    }\n  });\n\n  return <div {...props}>{accordionChildren}</div>;\n};\n"],"mappings":";;;;;;;;AAOA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,cAAc,QAAQ,OAAO;AACvD,SAASC,eAAe,QAAQ,UAAU;AAC1C,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,mBAAmB,QAAQ,uBAAuB;AAE3D,OAAO,MAAMC,mBAAmB,GAAIC,QAAmB,IACrDN,QAAQ,CAACO,KAAK,CAACD,QAAQ,CAAC,KAAK,CAAC;AAWhC,OAAO,MAAME,eAAe,GAAGC,IAAA,IAMH;EAAA,IANI;MAC9BH,QAAQ;MACRI,eAAe;MACfC,eAAe;MACfC;IAEoB,CAAC,GAAAH,IAAA;IADlBI,KAAK,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EAER,MAAMC,iBAAiB,GAAG,EAAiB;EAE3ChB,QAAQ,CAACiB,OAAO,CAACX,QAAQ,EAAEY,KAAK,IAAI;IAClC,IAAIjB,cAAc,CAACiB,KAAK,CAAC,EAAE;MACzB,MAAMC,qBAAqB,GACxBD,KAAK,CAA2BE,IAAI,KAAKhB,mBAAmB;MAC/D,MAAMiB,kBAAkB,GACrBH,KAAK,CAA2BE,IAAI,KAAKjB,gBAAgB;MAE5D,IAAIgB,qBAAqB,EAAE;QACzBH,iBAAiB,CAACM,IAAI,CACpBvB,KAAK,CAACwB,YAAY,CAACL,KAAK,EAAAM,aAAA,CAAAA,aAAA,KACnBb,eAAe;UAClBc,SAAS,EAAEvB,eAAe,CAAC,CACzBS,eAAe,CAACc,SAAS,EACzBP,KAAK,CAACL,KAAK,CAACY,SAAS,CACtB,CAAC;UACFC,GAAG,EAAE;QAAsB,EAC5B,CACH,CAAC;MACH,CAAC,MAAM,IAAIL,kBAAkB,IAAIT,MAAM,EAAE;QACvCI,iBAAiB,CAACM,IAAI,CACpBvB,KAAK,CAACwB,YAAY,CAACL,KAAK,EAAAM,aAAA,CAAAA,aAAA,KACnBd,eAAe;UAClBe,SAAS,EAAEvB,eAAe,CAAC,CACzBgB,KAAK,CAACL,KAAK,CAACY,SAAS,EACrBf,eAAe,CAACe,SAAS,CAC1B,CAAC;UACFC,GAAG,EAAE;QAAmB,EACzB,CACH,CAAC;MACH;IACF;EACF,CAAC,CAAC;EAEF,OAAO3B,KAAA,CAAA4B,aAAA,QAASd,KAAK,EAAGG,iBAAuB,CAAC;AAClD,CAAC"}