{"version":3,"file":"useDataTableSortManager.js","names":["React","useState","DataTable","DataTableItem","DataTableCell","doDataTableSort","useDataTableSortManager","caption","defaultData","defaultColumns","generateActions","onClickItem","data","setData","columns","setColumns","onSort","id","sortDirection","sortedColumns","sortedData","items","map","dataObj","defaultOrderColumn","createElement","key","onClick","actions","column"],"sources":["../../../../src/DataTable/utils/useDataTableSortManager.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { MouseEvent, ReactNode } from 'react';\nimport React, { useState } from 'react';\nimport { DataTable } from '../DataTable';\nimport { DataTableItem } from '../Item';\nimport type { DataTableColumns } from '../Column';\nimport { DataTableCell } from '../Column';\nimport { doDataTableSort } from './sort_utils';\nimport type { DataTableDatum, DataTableData } from './sort_utils';\n\nexport const useDataTableSortManager = (\n  caption: string,\n  defaultData: DataTableData,\n  defaultColumns: DataTableColumns,\n  generateActions: (item: DataTableDatum) => ReactNode,\n  onClickItem?: (e: MouseEvent<HTMLTableDataCellElement>) => void\n) => {\n  const [data, setData] = useState(defaultData);\n  const [columns, setColumns] = useState(defaultColumns);\n\n  const onSort = (id: string, sortDirection: 'asc' | 'desc') => {\n    const { columns: sortedColumns, data: sortedData } = doDataTableSort(\n      data,\n      columns,\n      id,\n      sortDirection\n    );\n    setData(sortedData);\n    setColumns(sortedColumns);\n  };\n\n  const items = data.map(dataObj => {\n    const defaultOrderColumn = columns[0].id;\n    const id = dataObj[defaultOrderColumn];\n\n    return (\n      <DataTableItem\n        id={id}\n        key={id}\n        onClick={onClickItem}\n        actions={generateActions(dataObj)}\n      >\n        {columns.map(column => (\n          <DataTableCell key={column.id}>{dataObj[column.id]}</DataTableCell>\n        ))}\n      </DataTableItem>\n    );\n  });\n\n  return (\n    <DataTable caption={caption} columns={columns} onSort={onSort}>\n      {items}\n    </DataTable>\n  );\n};\n"],"mappings":"AAMA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,aAAa,QAAQ,SAAS;AAEvC,SAASC,aAAa,QAAQ,WAAW;AACzC,SAASC,eAAe,QAAQ,cAAc;AAG9C,OAAO,MAAMC,uBAAuB,GAAGA,CACrCC,OAAe,EACfC,WAA0B,EAC1BC,cAAgC,EAChCC,eAAoD,EACpDC,WAA+D,KAC5D;EACH,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAACO,WAAW,CAAC;EAC7C,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAACQ,cAAc,CAAC;EAEtD,MAAMO,MAAM,GAAGA,CAACC,EAAU,EAAEC,aAA6B,KAAK;IAC5D,MAAM;MAAEJ,OAAO,EAAEK,aAAa;MAAEP,IAAI,EAAEQ;IAAW,CAAC,GAAGf,eAAe,CAClEO,IAAI,EACJE,OAAO,EACPG,EAAE,EACFC,aACF,CAAC;IACDL,OAAO,CAACO,UAAU,CAAC;IACnBL,UAAU,CAACI,aAAa,CAAC;EAC3B,CAAC;EAED,MAAME,KAAK,GAAGT,IAAI,CAACU,GAAG,CAACC,OAAO,IAAI;IAChC,MAAMC,kBAAkB,GAAGV,OAAO,CAAC,CAAC,CAAC,CAACG,EAAE;IACxC,MAAMA,EAAE,GAAGM,OAAO,CAACC,kBAAkB,CAAC;IAEtC,OACExB,KAAA,CAAAyB,aAAA,CAACtB,aAAa;MACZc,EAAE,EAAEA,EAAG;MACPS,GAAG,EAAET,EAAG;MACRU,OAAO,EAAEhB,WAAY;MACrBiB,OAAO,EAAElB,eAAe,CAACa,OAAO;IAAE,GAEjCT,OAAO,CAACQ,GAAG,CAACO,MAAM,IACjB7B,KAAA,CAAAyB,aAAA,CAACrB,aAAa;MAACsB,GAAG,EAAEG,MAAM,CAACZ;IAAG,GAAEM,OAAO,CAACM,MAAM,CAACZ,EAAE,CAAiB,CACnE,CACY,CAAC;EAEpB,CAAC,CAAC;EAEF,OACEjB,KAAA,CAAAyB,aAAA,CAACvB,SAAS;IAACK,OAAO,EAAEA,OAAQ;IAACO,OAAO,EAAEA,OAAQ;IAACE,MAAM,EAAEA;EAAO,GAC3DK,KACQ,CAAC;AAEhB,CAAC"}