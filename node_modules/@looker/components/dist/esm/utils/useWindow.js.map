{"version":3,"file":"useWindow.js","names":["useMemo","getWindowedListBoundaries","useCallbackRef","useMeasuredElement","useScrollPosition","useWindow","itemCount","enabled","itemHeight","ref","spacerTag","containerElement","callbackRef","height","scrollPosition","windowOptions","_objectSpread"],"sources":["../../../src/utils/useWindow.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { Ref } from 'react';\nimport { useMemo } from 'react';\nimport type { GetWindowedListBoundaryProps } from './getWindowedListBoundaries';\nimport { getWindowedListBoundaries } from './getWindowedListBoundaries';\nimport { useCallbackRef } from './useCallbackRef';\nimport { useMeasuredElement } from './useMeasuredElement';\nimport { useScrollPosition } from './useScrollPosition';\n\nexport type UseWindowProps<E extends HTMLElement> = Omit<\n  GetWindowedListBoundaryProps,\n  'height' | 'scrollPosition'\n> & {\n  ref?: Ref<E>;\n};\n\nexport const useWindow = <E extends HTMLElement = HTMLElement>({\n  itemCount,\n  enabled,\n  itemHeight,\n  ref,\n  spacerTag,\n}: UseWindowProps<E>) => {\n  const [containerElement, callbackRef] = useCallbackRef<E>(ref);\n  const [{ height }] = useMeasuredElement(enabled ? containerElement : null);\n  const scrollPosition = useScrollPosition(enabled ? containerElement : null);\n\n  const windowOptions = useMemo(() => {\n    return getWindowedListBoundaries({\n      enabled,\n      height,\n      itemCount,\n      itemHeight,\n      scrollPosition,\n      spacerTag,\n    });\n  }, [enabled, itemCount, height, itemHeight, scrollPosition, spacerTag]);\n\n  return {\n    ...windowOptions,\n    ref: callbackRef,\n  };\n};\n"],"mappings":";;;;;AAMA,SAASA,OAAO,QAAQ,OAAO;AAE/B,SAASC,yBAAyB,QAAQ,6BAA6B;AACvE,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,SAASC,iBAAiB,QAAQ,qBAAqB;AASvD,OAAO,MAAMC,SAAS,GAAGA,CAAsC;EAC7DC,SAAS;EACTC,OAAO;EACPC,UAAU;EACVC,GAAG;EACHC;AACiB,CAAC,KAAK;EACvB,MAAM,CAACC,gBAAgB,EAAEC,WAAW,CAAC,GAAGV,cAAc,CAAIO,GAAG,CAAC;EAC9D,MAAM,CAAC;IAAEI;EAAO,CAAC,CAAC,GAAGV,kBAAkB,CAACI,OAAO,GAAGI,gBAAgB,GAAG,IAAI,CAAC;EAC1E,MAAMG,cAAc,GAAGV,iBAAiB,CAACG,OAAO,GAAGI,gBAAgB,GAAG,IAAI,CAAC;EAE3E,MAAMI,aAAa,GAAGf,OAAO,CAAC,MAAM;IAClC,OAAOC,yBAAyB,CAAC;MAC/BM,OAAO;MACPM,MAAM;MACNP,SAAS;MACTE,UAAU;MACVM,cAAc;MACdJ;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACH,OAAO,EAAED,SAAS,EAAEO,MAAM,EAAEL,UAAU,EAAEM,cAAc,EAAEJ,SAAS,CAAC,CAAC;EAEvE,OAAAM,aAAA,CAAAA,aAAA,KACKD,aAAa;IAChBN,GAAG,EAAEG;EAAW;AAEpB,CAAC"}