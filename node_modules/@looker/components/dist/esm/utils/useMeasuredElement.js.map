{"version":3,"file":"useMeasuredElement.js","names":["useCallback","useState","useResize","mockDomRect","bottom","height","left","rect","right","toJSON","top","width","x","y","measureElement","element","getBoundingClientRect","DOMRect","useMeasuredElement","setRect","refreshDomRect"],"sources":["../../../src/utils/useMeasuredElement.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useCallback, useState } from 'react';\nimport { useResize } from './useResize';\n\nconst mockDomRect = {\n  bottom: 0,\n  height: 0,\n  left: 0,\n  rect: {},\n  right: 0,\n  toJSON() {\n    return null;\n  },\n  top: 0,\n  width: 0,\n  x: 0,\n  y: 0,\n};\n\nexport const measureElement = (element?: HTMLElement | null) => {\n  if (element) return element.getBoundingClientRect();\n  // TODO: can return this unconditionally, now that we've dropped IE11 support?\n  if (typeof DOMRect === 'function') return new DOMRect();\n  return mockDomRect;\n};\n\nexport const useMeasuredElement = (\n  element: HTMLElement | null\n): [DOMRect, () => void] => {\n  const [rect, setRect] = useState(measureElement());\n\n  const refreshDomRect = useCallback(() => {\n    if (!element) return;\n    setRect(measureElement(element));\n  }, [element]);\n\n  useResize(element, refreshDomRect);\n\n  return [rect, refreshDomRect];\n};\n"],"mappings":"AAKA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,SAASC,SAAS,QAAQ,aAAa;AAEvC,MAAMC,WAAW,GAAG;EAClBC,MAAM,EAAE,CAAC;EACTC,MAAM,EAAE,CAAC;EACTC,IAAI,EAAE,CAAC;EACPC,IAAI,EAAE,CAAC,CAAC;EACRC,KAAK,EAAE,CAAC;EACRC,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI;EACb,CAAC;EACDC,GAAG,EAAE,CAAC;EACNC,KAAK,EAAE,CAAC;EACRC,CAAC,EAAE,CAAC;EACJC,CAAC,EAAE;AACL,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIC,OAA4B,IAAK;EAC9D,IAAIA,OAAO,EAAE,OAAOA,OAAO,CAACC,qBAAqB,CAAC,CAAC;EAEnD,IAAI,OAAOC,OAAO,KAAK,UAAU,EAAE,OAAO,IAAIA,OAAO,CAAC,CAAC;EACvD,OAAOd,WAAW;AACpB,CAAC;AAED,OAAO,MAAMe,kBAAkB,GAC7BH,OAA2B,IACD;EAC1B,MAAM,CAACR,IAAI,EAAEY,OAAO,CAAC,GAAGlB,QAAQ,CAACa,cAAc,CAAC,CAAC,CAAC;EAElD,MAAMM,cAAc,GAAGpB,WAAW,CAAC,MAAM;IACvC,IAAI,CAACe,OAAO,EAAE;IACdI,OAAO,CAACL,cAAc,CAACC,OAAO,CAAC,CAAC;EAClC,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEbb,SAAS,CAACa,OAAO,EAAEK,cAAc,CAAC;EAElC,OAAO,CAACb,IAAI,EAAEa,cAAc,CAAC;AAC/B,CAAC"}