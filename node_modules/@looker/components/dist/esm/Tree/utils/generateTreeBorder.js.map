{"version":3,"file":"generateTreeBorder.js","names":["css","isListColor","listItemDimensions","getColor","theme","color","colors","ui2","generateTreeBorder","border","density","depth","iconSize","defaults","itemBorderSize","itemGutter","indicatorIconSize","sizes","depthSize","borderSpacer","preBorderStop","postBorderStop","_t","_"],"sources":["../../../../src/Tree/utils/generateTreeBorder.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { css } from 'styled-components';\nimport type { DensityRamp, Theme } from '@looker/design-tokens';\nimport { isListColor, listItemDimensions } from '../../ListItem';\n\nexport type TreeBorderProps = {\n  border?: boolean;\n  color?: string;\n  density?: DensityRamp;\n  depth?: number;\n  theme: Theme;\n};\n\nconst getColor = (theme: Theme, color?: string): string => {\n  if (isListColor(color)) {\n    return theme.colors[`${color}Focus`];\n  }\n  return color || theme.colors.ui2;\n};\n\n/**\n * Creates a vertical \"border\" for Tree's content container if border is true\n * Testing note: style rules validated by storyshots\n */\nexport const generateTreeBorder = ({\n  border,\n  color,\n  density,\n  theme,\n  depth = 0,\n}: TreeBorderProps) => {\n  if (!border) return false;\n\n  const { iconSize } = listItemDimensions(density || theme.defaults.density);\n\n  const itemBorderSize = '1px';\n  const itemGutter = '0.25rem';\n  const indicatorIconSize = theme.sizes[iconSize];\n  const depthSize = `(${indicatorIconSize} + ${itemGutter}) * ${depth}`;\n  const borderSpacer = `(${indicatorIconSize} + ${itemBorderSize}) / 2 + ${depthSize}`;\n\n  const preBorderStop = `calc(${borderSpacer} - ${itemBorderSize})`;\n  const postBorderStop = `calc(${borderSpacer})`;\n\n  return css`\n    background-image: linear-gradient(\n      90deg,\n      transparent ${preBorderStop},\n      ${getColor(theme, color)} ${preBorderStop} ${postBorderStop},\n      transparent ${postBorderStop}\n    );\n  `;\n};\n"],"mappings":";;AAKA,SAASA,GAAG,QAAQ,mBAAmB;AAEvC,SAASC,WAAW,EAAEC,kBAAkB,QAAQ,gBAAgB;AAUhE,MAAMC,QAAQ,GAAGA,CAACC,KAAY,EAAEC,KAAc,KAAa;EACzD,IAAIJ,WAAW,CAACI,KAAK,CAAC,EAAE;IACtB,OAAOD,KAAK,CAACE,MAAM,CAAE,GAAED,KAAM,OAAM,CAAC;EACtC;EACA,OAAOA,KAAK,IAAID,KAAK,CAACE,MAAM,CAACC,GAAG;AAClC,CAAC;AAMD,OAAO,MAAMC,kBAAkB,GAAGA,CAAC;EACjCC,MAAM;EACNJ,KAAK;EACLK,OAAO;EACPN,KAAK;EACLO,KAAK,EAALA,MAAK,GAAG;AACO,CAAC,KAAK;EACrB,IAAI,CAACF,MAAM,EAAE,OAAO,KAAK;EAEzB,MAAM;IAAEG;EAAS,CAAC,GAAGV,kBAAkB,CAACQ,OAAO,IAAIN,KAAK,CAACS,QAAQ,CAACH,OAAO,CAAC;EAE1E,MAAMI,cAAc,GAAG,KAAK;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,iBAAiB,GAAGZ,KAAK,CAACa,KAAK,CAACL,QAAQ,CAAC;EAC/C,MAAMM,SAAS,GAAI,IAAGF,iBAAkB,MAAKD,UAAW,OAAMJ,MAAM,EAAC;EACrE,MAAMQ,YAAY,GAAI,IAAGH,iBAAkB,MAAKF,cAAe,WAAUI,SAAU,EAAC;EAEpF,MAAME,aAAa,GAAI,QAAOD,YAAa,MAAKL,cAAe,GAAE;EACjE,MAAMO,cAAc,GAAI,QAAOF,YAAa,GAAE;EAE9C,OAAOnB,GAAG,CAAAsB,EAAA,KAAAA,EAAA,GAAAC,CAAC;AACb;AACA;AACA,oBAAkB,CAAgB;AAClC,QAAM,CAAyB,IAAC,CAAgB,IAAC,CAAiB;AAClE,oBAAkB,CAAiB;AACnC;AACA,GAAE,GAJkBH,aAAa,EACzBjB,QAAQ,CAACC,KAAK,EAAEC,KAAK,CAAC,EAAIe,aAAa,EAAIC,cAAc,EAC7CA,cAAc;AAGlC,CAAC"}