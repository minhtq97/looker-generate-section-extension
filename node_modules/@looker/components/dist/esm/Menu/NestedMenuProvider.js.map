{"version":3,"file":"NestedMenuProvider.js","names":["React","createContext","useCallback","useContext","useDelayedState","nestedMenuContext","change","undefined","delayChange","value","waitChange","NestedMenuContext","NestedMenuProvider","children","closeParentMenu","delayedStateProps","closeGrandparentMenu","wrappedCloseParentMenu","createElement","Provider","_objectSpread"],"sources":["../../../src/Menu/NestedMenuProvider.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React, { createContext, useCallback, useContext } from 'react';\nimport type { ReactNode } from 'react';\nimport type { UseDelayedStateReturn } from '../utils';\nimport { useDelayedState } from '../utils';\n\nexport type CloseParentMenuProps = {\n  closeParentMenu?: () => void;\n};\n\nexport type NestedMenuContextProps = UseDelayedStateReturn<string> &\n  CloseParentMenuProps;\n\nconst nestedMenuContext: NestedMenuContextProps = {\n  change: () => undefined,\n  delayChange: () => undefined,\n  value: '',\n  waitChange: () => undefined,\n};\n\nexport const NestedMenuContext = createContext(nestedMenuContext);\n\n// Stores the id for the current nestedMenu to prevent them\n// from competing with each other (e.g. from hover vs arrow key)\nexport const NestedMenuProvider = ({\n  children,\n  closeParentMenu,\n}: CloseParentMenuProps & { children?: ReactNode }) => {\n  const delayedStateProps = useDelayedState<string>('');\n  const { closeParentMenu: closeGrandparentMenu } =\n    useContext(NestedMenuContext);\n\n  const wrappedCloseParentMenu = useCallback(() => {\n    // Close the grandparent menu, if there is one\n    closeGrandparentMenu?.();\n    closeParentMenu?.();\n  }, [closeGrandparentMenu, closeParentMenu]);\n\n  return (\n    <NestedMenuContext.Provider\n      value={{ ...delayedStateProps, closeParentMenu: wrappedCloseParentMenu }}\n    >\n      {children}\n    </NestedMenuContext.Provider>\n  );\n};\n"],"mappings":";;;;;AAKA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,WAAW,EAAEC,UAAU,QAAQ,OAAO;AAGrE,SAASC,eAAe,QAAQ,UAAU;AAS1C,MAAMC,iBAAyC,GAAG;EAChDC,MAAM,EAAEA,CAAA,KAAMC,SAAS;EACvBC,WAAW,EAAEA,CAAA,KAAMD,SAAS;EAC5BE,KAAK,EAAE,EAAE;EACTC,UAAU,EAAEA,CAAA,KAAMH;AACpB,CAAC;AAED,OAAO,MAAMI,iBAAiB,GAAGV,aAAa,CAACI,iBAAiB,CAAC;AAIjE,OAAO,MAAMO,kBAAkB,GAAGA,CAAC;EACjCC,QAAQ;EACRC;AAC+C,CAAC,KAAK;EACrD,MAAMC,iBAAiB,GAAGX,eAAe,CAAS,EAAE,CAAC;EACrD,MAAM;IAAEU,eAAe,EAAEE;EAAqB,CAAC,GAC7Cb,UAAU,CAACQ,iBAAiB,CAAC;EAE/B,MAAMM,sBAAsB,GAAGf,WAAW,CAAC,MAAM;IAE/Cc,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,CAAG,CAAC;IACxBF,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAG,CAAC;EACrB,CAAC,EAAE,CAACE,oBAAoB,EAAEF,eAAe,CAAC,CAAC;EAE3C,OACEd,KAAA,CAAAkB,aAAA,CAACP,iBAAiB,CAACQ,QAAQ;IACzBV,KAAK,EAAAW,aAAA,CAAAA,aAAA,KAAOL,iBAAiB;MAAED,eAAe,EAAEG;IAAsB;EAAG,GAExEJ,QACyB,CAAC;AAEjC,CAAC"}