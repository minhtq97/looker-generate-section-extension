{"version":3,"file":"useResize.js","names":["_throttle","_interopRequireDefault","require","_react","_useSafeLayoutEffect","obj","__esModule","useResize","element","handler","throttledHandler","useMemo","throttle","useSafeLayoutEffect","resizeObserver","ResizeObserver","observe","window","addEventListener","disconnect","removeEventListener","exports"],"sources":["../../../src/utils/useResize.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport throttle from 'lodash/throttle';\nimport { useMemo } from 'react';\nimport { useSafeLayoutEffect } from './useSafeLayoutEffect';\n\n/**\n * Calls the provided handler function when the element is resized.\n * If the handler contains a state setter, it should be wrapped in useCallback to avoid an infinite loop.\n * @param element the element to observe\n * @param handler the function to call on resize\n */\nexport const useResize = (element: HTMLElement | null, handler: () => void) => {\n  const throttledHandler = useMemo(() => throttle(handler, 100), [handler]);\n  useSafeLayoutEffect(() => {\n    if (!element) return;\n\n    handler();\n    const resizeObserver = new ResizeObserver(throttledHandler);\n\n    resizeObserver.observe(element);\n    window.addEventListener('resize', throttledHandler);\n\n    return () => {\n      resizeObserver.disconnect();\n      window.removeEventListener('resize', throttledHandler);\n    };\n  }, [handler, throttledHandler, element]);\n};\n"],"mappings":";;;;;;AAKA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,oBAAA,GAAAF,OAAA;AAA4D,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAQrD,IAAME,SAAS,GAAG,SAAZA,SAASA,CAAIC,OAA2B,EAAEC,OAAmB,EAAK;EAC7E,IAAMC,gBAAgB,GAAG,IAAAC,cAAO,EAAC;IAAA,OAAM,IAAAC,oBAAQ,EAACH,OAAO,EAAE,GAAG,CAAC;EAAA,GAAE,CAACA,OAAO,CAAC,CAAC;EACzE,IAAAI,wCAAmB,EAAC,YAAM;IACxB,IAAI,CAACL,OAAO,EAAE;IAEdC,OAAO,CAAC,CAAC;IACT,IAAMK,cAAc,GAAG,IAAIC,cAAc,CAACL,gBAAgB,CAAC;IAE3DI,cAAc,CAACE,OAAO,CAACR,OAAO,CAAC;IAC/BS,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAER,gBAAgB,CAAC;IAEnD,OAAO,YAAM;MACXI,cAAc,CAACK,UAAU,CAAC,CAAC;MAC3BF,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAEV,gBAAgB,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACD,OAAO,EAAEC,gBAAgB,EAAEF,OAAO,CAAC,CAAC;AAC1C,CAAC;AAACa,OAAA,CAAAd,SAAA,GAAAA,SAAA"}