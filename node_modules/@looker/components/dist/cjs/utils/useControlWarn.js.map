{"version":3,"file":"useControlWarn.js","names":["_react","require","un","cont","warnComponentControl","componentName","controllingProps","propsText","slice","join","check","concat","changingToControlled","from","to","warning","console","warn","useControlWarn","_ref","isControlledCheck","name","_useRef","useRef","isControlled","current","bgWarn"],"sources":["../../../src/utils/useControlWarn.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useRef } from 'react';\n\nconst un = 'uncontrolled';\nconst cont = 'controlled';\n\nfunction warnComponentControl(\n  componentName: string,\n  controllingProps: string[]\n) {\n  const propsText =\n    controllingProps.slice(0, -1).join(',') +\n    ' and ' +\n    controllingProps.slice(-1);\n  const check = `Check the ${propsText} being passed in.`;\n  return (changingToControlled: boolean) => {\n    const from = changingToControlled ? un : cont;\n    const to = changingToControlled ? cont : un;\n    const warning = `${componentName} is changing from ${from} to ${to}. \\\n      ${componentName} should not switch from ${from} to ${to} (or vice versa). \\\n      Decide between using a ${cont} or ${un} ${componentName} for the \\\n      lifetime of the component. `;\n    // eslint-disable-next-line no-console\n    console.warn(`${warning} ${check}`);\n  };\n}\n\nexport interface UseControlWarnProps {\n  isControlledCheck: () => boolean;\n  name: string;\n  controllingProps: string[];\n}\n\nexport function useControlWarn({\n  isControlledCheck,\n  name,\n  controllingProps,\n}: UseControlWarnProps) {\n  const { current: isControlled } = useRef(isControlledCheck());\n  const bgWarn = warnComponentControl(name, controllingProps);\n\n  if (isControlled && !isControlledCheck()) {\n    bgWarn(false);\n  }\n\n  if (!isControlled && isControlledCheck()) {\n    bgWarn(true);\n  }\n\n  return isControlled;\n}\n"],"mappings":";;;;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAMC,EAAE,GAAG,cAAc;AACzB,IAAMC,IAAI,GAAG,YAAY;AAEzB,SAASC,oBAAoBA,CAC3BC,aAAqB,EACrBC,gBAA0B,EAC1B;EACA,IAAMC,SAAS,GACbD,gBAAgB,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GACvC,OAAO,GACPH,gBAAgB,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;EAC5B,IAAME,KAAK,gBAAAC,MAAA,CAAgBJ,SAAS,sBAAmB;EACvD,OAAO,UAACK,oBAA6B,EAAK;IACxC,IAAMC,IAAI,GAAGD,oBAAoB,GAAGV,EAAE,GAAGC,IAAI;IAC7C,IAAMW,EAAE,GAAGF,oBAAoB,GAAGT,IAAI,GAAGD,EAAE;IAC3C,IAAMa,OAAO,MAAAJ,MAAA,CAAMN,aAAa,wBAAAM,MAAA,CAAqBE,IAAI,UAAAF,MAAA,CAAOG,EAAE,cAAAH,MAAA,CAC9DN,aAAa,8BAAAM,MAAA,CAA2BE,IAAI,UAAAF,MAAA,CAAOG,EAAE,qDAAAH,MAAA,CAC9BR,IAAI,UAAAQ,MAAA,CAAOT,EAAE,OAAAS,MAAA,CAAIN,aAAa,+CAC3B;IAE9BW,OAAO,CAACC,IAAI,IAAAN,MAAA,CAAII,OAAO,OAAAJ,MAAA,CAAID,KAAK,CAAE,CAAC;EACrC,CAAC;AACH;AAQO,SAASQ,cAAcA,CAAAC,IAAA,EAIN;EAAA,IAHtBC,iBAAiB,GAAAD,IAAA,CAAjBC,iBAAiB;IACjBC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IACJf,gBAAgB,GAAAa,IAAA,CAAhBb,gBAAgB;EAEhB,IAAAgB,OAAA,GAAkC,IAAAC,aAAM,EAACH,iBAAiB,CAAC,CAAC,CAAC;IAA5CI,YAAY,GAAAF,OAAA,CAArBG,OAAO;EACf,IAAMC,MAAM,GAAGtB,oBAAoB,CAACiB,IAAI,EAAEf,gBAAgB,CAAC;EAE3D,IAAIkB,YAAY,IAAI,CAACJ,iBAAiB,CAAC,CAAC,EAAE;IACxCM,MAAM,CAAC,KAAK,CAAC;EACf;EAEA,IAAI,CAACF,YAAY,IAAIJ,iBAAiB,CAAC,CAAC,EAAE;IACxCM,MAAM,CAAC,IAAI,CAAC;EACd;EAEA,OAAOF,YAAY;AACrB"}