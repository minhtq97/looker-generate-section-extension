{"version":3,"file":"TreeCollection.js","names":["_react","_interopRequireWildcard","require","_styledComponents","_interopRequireDefault","_utils","_utils2","_templateObject","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","value","_extends","assign","bind","target","i","arguments","length","source","apply","TreeCollectionInternal","forwardRef","props","forwardedRef","internalRef","useRef","handleKeyDown","event","treeItems","getItems","current","firstItem","focus","lastItem","navProps","useArrowKeyNav","axis","getNextFocus","getNextItemFocus","onKeyDown","ref","useForkedRef","createElement","role","TreeCollection","styled","withConfig","displayName","componentId","exports"],"sources":["../../../src/Tree/TreeCollection.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CompatibleHTMLProps } from '@looker/design-tokens';\nimport type { KeyboardEvent, Ref } from 'react';\nimport React, { forwardRef, useRef } from 'react';\nimport styled from 'styled-components';\nimport { getNextItemFocus, getItems } from '../List/utils';\nimport { useArrowKeyNav, useForkedRef } from '../utils';\n\nexport type TreeCollectionProps = CompatibleHTMLProps<HTMLUListElement>;\n\nconst TreeCollectionInternal = forwardRef(\n  (props: TreeCollectionProps, forwardedRef: Ref<HTMLUListElement>) => {\n    const internalRef = useRef<HTMLUListElement>(null);\n\n    // Additional key shortcuts\n    const handleKeyDown = (event: KeyboardEvent<HTMLElement>) => {\n      const treeItems = getItems(internalRef.current as HTMLElement);\n      if (event.key === 'Home') {\n        const firstItem = treeItems[0];\n        firstItem && firstItem.focus();\n      } else if (event.key === 'End') {\n        const lastItem = treeItems[treeItems.length - 1];\n        lastItem && lastItem.focus();\n      }\n    };\n\n    const navProps = useArrowKeyNav<HTMLUListElement>({\n      axis: 'both',\n      getNextFocus: getNextItemFocus,\n      onKeyDown: handleKeyDown,\n      ref: useForkedRef(internalRef, forwardedRef),\n    });\n\n    return <ul role=\"tree\" {...props} {...navProps} />;\n  }\n);\n\nexport const TreeCollection = styled(TreeCollectionInternal)`\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n`;\n"],"mappings":"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"}