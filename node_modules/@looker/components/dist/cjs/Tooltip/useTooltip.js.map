{"version":3,"file":"useTooltip.js","names":["_react","_interopRequireWildcard","require","_utils","_Portal","_Dialog","_TooltipContent","_TooltipSurface","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","_i","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","err","isArray","noop","useTooltip","_ref","canClose","canOpen","content","_ref$isOpen","isOpen","initializeOpen","width","_ref$maxWidth","maxWidth","textAlign","disabled","id","invert","triggerElement","_ref$placement","placement","propsPlacement","_ref$delay","delay","ariaDescribedById","_useState","useState","_useState2","setIsOpen","_useAnimationState","useAnimationState","enter","exit","busy","className","renderDOM","_useCallbackRef","useCallbackRef","_useCallbackRef2","surfaceElement","surfaceCallbackRef","_useState3","_useState4","newTriggerElement","setTriggerElement","element","handleClose","useCallback","handleMouseOut","event","related","relatedTarget","contains","window","requestAnimationFrame","usePopperProps","useMemo","anchor","options","modifiers","enabled","flipVariations","_usePopper","usePopper","popperInstanceRef","style","targetRef","ref","useForkedRef","guaranteedId","useID","popper","createElement","DialogContext","Provider","closeModal","Portal","TooltipSurface","eventHandlers","onMouseOut","TooltipContent","role","handleOpen","e","currentTarget","currentElement","shouldOpen","dataset","notooltip","enabledDomProps","domProps","onBlur","onFocus","onMouseOver","tooltip","exports"],"sources":["../../../src/Tooltip/useTooltip.tsx"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport type { MouseEvent } from 'react';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport type { UsePopperProps } from '../utils';\nimport {\n  useAnimationState,\n  useCallbackRef,\n  useID,\n  usePopper,\n  useForkedRef,\n} from '../utils';\nimport { Portal } from '../Portal';\nimport { DialogContext } from '../Dialog';\nimport { TooltipContent } from './TooltipContent';\nimport { TooltipSurface } from './TooltipSurface';\nimport type { UseTooltipProps } from './types';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\n\nexport const useTooltip = ({\n  canClose,\n  canOpen,\n  content,\n  isOpen: initializeOpen = false,\n  width,\n  maxWidth = '30rem',\n  textAlign,\n  disabled,\n  id,\n  invert,\n  triggerElement,\n  placement: propsPlacement = 'bottom',\n  delay = 'intricate',\n  ariaDescribedById,\n}: UseTooltipProps) => {\n  const [isOpen, setIsOpen] = useState(initializeOpen);\n  const { busy, className, renderDOM } = useAnimationState({\n    enter: delay,\n    exit: 'none',\n    isOpen,\n  });\n\n  const [surfaceElement, surfaceCallbackRef] = useCallbackRef();\n  const [newTriggerElement, setTriggerElement] = useState<HTMLElement | null>(\n    null\n  );\n  // If the triggerElement is passed in props, use that instead of the new element\n  const element = triggerElement ?? newTriggerElement;\n\n  const handleClose = useCallback(() => {\n    if (canClose && !canClose()) return;\n    setIsOpen(false);\n  }, [canClose]);\n\n  const handleMouseOut = useCallback(\n    (event: MouseEvent<HTMLElement>) => {\n      if (!isOpen) return;\n\n      const related = event.relatedTarget;\n\n      if (\n        element &&\n        (element === related || element.contains(related as Node))\n      ) {\n        return;\n      }\n\n      if (\n        surfaceElement &&\n        (surfaceElement === related || surfaceElement.contains(related as Node))\n      ) {\n        return;\n      }\n\n      window.requestAnimationFrame(() => {\n        handleClose();\n      });\n    },\n    [element, surfaceElement, isOpen, handleClose]\n  );\n\n  const usePopperProps: UsePopperProps = useMemo(\n    () => ({\n      anchor: element,\n      options: {\n        modifiers: [\n          {\n            enabled: true,\n            name: 'flip',\n            options: {\n              flipVariations: true,\n            },\n          },\n        ],\n        placement: propsPlacement,\n      },\n    }),\n    [element, propsPlacement]\n  );\n\n  const { placement, popperInstanceRef, style, targetRef } =\n    usePopper(usePopperProps);\n\n  const ref = useForkedRef(targetRef, surfaceCallbackRef);\n\n  const guaranteedId = useID(id);\n\n  // Memo all the things!\n  return useMemo(() => {\n    const popper =\n      renderDOM && content && !disabled ? (\n        <DialogContext.Provider\n          value={{\n            busy,\n            closeModal: handleClose,\n            id: guaranteedId,\n          }}\n        >\n          <Portal>\n            <TooltipSurface\n              aria-busy={busy ? true : undefined}\n              className={className}\n              eventHandlers={{ onMouseOut: handleMouseOut }}\n              placement={placement}\n              ref={ref}\n              style={style}\n              maxWidth={maxWidth}\n              invert={invert}\n            >\n              <TooltipContent\n                role=\"tooltip\"\n                id={guaranteedId}\n                width={width}\n                textAlign={textAlign}\n              >\n                {content}\n              </TooltipContent>\n            </TooltipSurface>\n          </Portal>\n        </DialogContext.Provider>\n      ) : null;\n\n    const handleOpen = (e: { currentTarget: HTMLElement }) => {\n      setTriggerElement(e.currentTarget);\n\n      const currentElement = triggerElement ?? e.currentTarget;\n      const shouldOpen = canOpen ? canOpen(currentElement) : true;\n\n      if (\n        shouldOpen &&\n        !disabled &&\n        (!currentElement || !currentElement.dataset.notooltip)\n      ) {\n        setIsOpen(true);\n      }\n    };\n\n    const enabledDomProps = disabled\n      ? {}\n      : {\n          'aria-describedby':\n            renderDOM && content\n              ? ariaDescribedById || guaranteedId\n              : undefined,\n          className: renderDOM ? 'hover' : undefined,\n        };\n\n    return {\n      domProps: {\n        ...enabledDomProps,\n        onBlur: handleClose,\n        onFocus: handleOpen,\n        onMouseOut: handleMouseOut,\n        onMouseOver: handleOpen,\n        ref: initializeOpen ? setTriggerElement : noop,\n      },\n      popperInstanceRef,\n      tooltip: popper,\n    };\n  }, [\n    busy,\n    className,\n    canOpen,\n    content,\n    disabled,\n    guaranteedId,\n    handleClose,\n    handleMouseOut,\n    initializeOpen,\n    invert,\n    maxWidth,\n    placement,\n    popperInstanceRef,\n    ref,\n    renderDOM,\n    style,\n    textAlign,\n    triggerElement,\n    width,\n    ariaDescribedById,\n  ]);\n};\n"],"mappings":"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"}