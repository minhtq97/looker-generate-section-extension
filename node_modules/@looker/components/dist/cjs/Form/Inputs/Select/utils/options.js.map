{"version":3,"file":"options.js","names":["_Combobox","require","_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","getMatchingOption","options","find","option","getOption","matchingOption","label","labelProps","getOptions","values","map","getComboboxText","compareOption","toLowerCase","getFirstOption","optionAsGroup","notInOptions","currentOptions","inputValue","checkForIcon","icon","optionsHaveIcons","some","exports"],"sources":["../../../../../../src/Form/Inputs/Select/utils/options.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { ComboboxOptionObject } from '../../Combobox';\nimport { getComboboxText } from '../../Combobox';\nimport type {\n  SelectOptionGroupProps,\n  SelectOptionObject,\n  SelectOptionProps,\n} from '../types';\n\nexport function getMatchingOption(\n  value?: string,\n  options?: SelectOptionObject[]\n) {\n  return options?.find(option => option.value === value);\n}\n\nexport function getOption(value?: string, options?: SelectOptionObject[]) {\n  const matchingOption = getMatchingOption(value, options);\n  const label = matchingOption?.label;\n  // If this is a filterable Select and the current option has been filtered out\n  // leave label out, so that the matching against the option saved in ComboboxContext won't fail\n  const labelProps = label ? { label } : {};\n  return value !== undefined ? { ...labelProps, value } : undefined;\n}\n\nexport function getOptions(\n  values?: string[],\n  options?: SelectOptionObject[]\n): SelectOptionObject[] | undefined {\n  if (!values) return undefined;\n  return values.map(value => ({\n    label: getComboboxText(value, options),\n    value,\n  }));\n}\n\nexport function compareOption(option: { value: string }, value: string) {\n  return getComboboxText(option).toLowerCase() === value.toLowerCase();\n}\n\nexport function getFirstOption(\n  options: SelectOptionProps[]\n): SelectOptionObject {\n  const optionAsGroup = options[0] as SelectOptionGroupProps;\n  if (optionAsGroup && optionAsGroup.options) return optionAsGroup.options[0];\n  return options[0] as SelectOptionObject;\n}\n\n// Is a value contained the specified options (logic to show the on-the-fly \"Create\" option)\nexport function notInOptions(\n  currentOptions: ComboboxOptionObject[],\n  options?: SelectOptionObject[],\n  inputValue?: string\n) {\n  if (!inputValue) return false;\n  if (currentOptions.find(option => compareOption(option, inputValue))) {\n    return false;\n  }\n  if (!options) return true;\n  return (\n    options.find(option => compareOption(option, inputValue)) === undefined\n  );\n}\n\nconst checkForIcon = (option: SelectOptionObject) => option.icon !== undefined;\n\nexport const optionsHaveIcons = (options?: SelectOptionObject[]) => {\n  if (!options || options.length === 0) return false;\n  return options.some(option => checkForIcon(option));\n};\n"],"mappings":";;;;;;;;;;;;AAMA,IAAAA,SAAA,GAAAC,OAAA;AAAiD,SAAAC,QAAAC,GAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAAC,MAAA,IAAAD,GAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,GAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,GAAA,KAAAD,OAAA,CAAAC,GAAA;AAAA,SAAAK,QAAAC,MAAA,EAAAC,cAAA,QAAAC,IAAA,GAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,OAAAG,MAAA,CAAAC,qBAAA,QAAAC,OAAA,GAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,GAAAC,cAAA,KAAAI,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,EAAAO,GAAA,EAAAE,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,EAAAG,OAAA,YAAAH,IAAA;AAAA,SAAAU,cAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAf,OAAA,CAAAI,MAAA,CAAAc,MAAA,OAAAC,OAAA,WAAAC,GAAA,IAAAC,eAAA,CAAAP,MAAA,EAAAM,GAAA,EAAAF,MAAA,CAAAE,GAAA,SAAAhB,MAAA,CAAAkB,yBAAA,GAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,EAAAV,MAAA,CAAAkB,yBAAA,CAAAJ,MAAA,KAAAlB,OAAA,CAAAI,MAAA,CAAAc,MAAA,GAAAC,OAAA,WAAAC,GAAA,IAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAM,GAAA,EAAAhB,MAAA,CAAAK,wBAAA,CAAAS,MAAA,EAAAE,GAAA,iBAAAN,MAAA;AAAA,SAAAO,gBAAA1B,GAAA,EAAAyB,GAAA,EAAAK,KAAA,IAAAL,GAAA,GAAAM,cAAA,CAAAN,GAAA,OAAAA,GAAA,IAAAzB,GAAA,IAAAS,MAAA,CAAAoB,cAAA,CAAA7B,GAAA,EAAAyB,GAAA,IAAAK,KAAA,EAAAA,KAAA,EAAAf,UAAA,QAAAiB,YAAA,QAAAC,QAAA,oBAAAjC,GAAA,CAAAyB,GAAA,IAAAK,KAAA,WAAA9B,GAAA;AAAA,SAAA+B,eAAAG,GAAA,QAAAT,GAAA,GAAAU,YAAA,CAAAD,GAAA,oBAAAnC,OAAA,CAAA0B,GAAA,iBAAAA,GAAA,GAAAW,MAAA,CAAAX,GAAA;AAAA,SAAAU,aAAAE,KAAA,EAAAC,IAAA,QAAAvC,OAAA,CAAAsC,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAApC,MAAA,CAAAuC,WAAA,OAAAD,IAAA,KAAAE,SAAA,QAAAC,GAAA,GAAAH,IAAA,CAAAI,IAAA,CAAAN,KAAA,EAAAC,IAAA,oBAAAvC,OAAA,CAAA2C,GAAA,uBAAAA,GAAA,YAAAE,SAAA,4DAAAN,IAAA,gBAAAF,MAAA,GAAAS,MAAA,EAAAR,KAAA;AAO1C,SAASS,iBAAiBA,CAC/BhB,KAAc,EACdiB,OAA8B,EAC9B;EACA,OAAOA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIA,MAAM,CAACnB,KAAK,KAAKA,KAAK;EAAA,EAAC;AACxD;AAEO,SAASoB,SAASA,CAACpB,KAAc,EAAEiB,OAA8B,EAAE;EACxE,IAAMI,cAAc,GAAGL,iBAAiB,CAAChB,KAAK,EAAEiB,OAAO,CAAC;EACxD,IAAMK,KAAK,GAAGD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEC,KAAK;EAGnC,IAAMC,UAAU,GAAGD,KAAK,GAAG;IAAEA,KAAK,EAALA;EAAM,CAAC,GAAG,CAAC,CAAC;EACzC,OAAOtB,KAAK,KAAKW,SAAS,GAAAvB,aAAA,CAAAA,aAAA,KAAQmC,UAAU;IAAEvB,KAAK,EAALA;EAAK,KAAKW,SAAS;AACnE;AAEO,SAASa,UAAUA,CACxBC,MAAiB,EACjBR,OAA8B,EACI;EAClC,IAAI,CAACQ,MAAM,EAAE,OAAOd,SAAS;EAC7B,OAAOc,MAAM,CAACC,GAAG,CAAC,UAAA1B,KAAK;IAAA,OAAK;MAC1BsB,KAAK,EAAE,IAAAK,yBAAe,EAAC3B,KAAK,EAAEiB,OAAO,CAAC;MACtCjB,KAAK,EAALA;IACF,CAAC;EAAA,CAAC,CAAC;AACL;AAEO,SAAS4B,aAAaA,CAACT,MAAyB,EAAEnB,KAAa,EAAE;EACtE,OAAO,IAAA2B,yBAAe,EAACR,MAAM,CAAC,CAACU,WAAW,CAAC,CAAC,KAAK7B,KAAK,CAAC6B,WAAW,CAAC,CAAC;AACtE;AAEO,SAASC,cAAcA,CAC5Bb,OAA4B,EACR;EACpB,IAAMc,aAAa,GAAGd,OAAO,CAAC,CAAC,CAA2B;EAC1D,IAAIc,aAAa,IAAIA,aAAa,CAACd,OAAO,EAAE,OAAOc,aAAa,CAACd,OAAO,CAAC,CAAC,CAAC;EAC3E,OAAOA,OAAO,CAAC,CAAC,CAAC;AACnB;AAGO,SAASe,YAAYA,CAC1BC,cAAsC,EACtChB,OAA8B,EAC9BiB,UAAmB,EACnB;EACA,IAAI,CAACA,UAAU,EAAE,OAAO,KAAK;EAC7B,IAAID,cAAc,CAACf,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIS,aAAa,CAACT,MAAM,EAAEe,UAAU,CAAC;EAAA,EAAC,EAAE;IACpE,OAAO,KAAK;EACd;EACA,IAAI,CAACjB,OAAO,EAAE,OAAO,IAAI;EACzB,OACEA,OAAO,CAACC,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIS,aAAa,CAACT,MAAM,EAAEe,UAAU,CAAC;EAAA,EAAC,KAAKvB,SAAS;AAE3E;AAEA,IAAMwB,YAAY,GAAG,SAAfA,YAAYA,CAAIhB,MAA0B;EAAA,OAAKA,MAAM,CAACiB,IAAI,KAAKzB,SAAS;AAAA;AAEvE,IAAM0B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIpB,OAA8B,EAAK;EAClE,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACzB,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;EAClD,OAAOyB,OAAO,CAACqB,IAAI,CAAC,UAAAnB,MAAM;IAAA,OAAIgB,YAAY,CAAChB,MAAM,CAAC;EAAA,EAAC;AACrD,CAAC;AAACoB,OAAA,CAAAF,gBAAA,GAAAA,gBAAA"}