{"version":3,"file":"useFlatOptions.js","names":["_react","require","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","getFlatOptions","options","reduce","acc","option","optionAsGroup","groupPseudoOptions","label","push","flatOptions","concat","navigationOptions","exports","useFlatOptions","useMemo","undefined"],"sources":["../../../../../../src/Form/Inputs/Select/utils/useFlatOptions.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { useMemo } from 'react';\nimport type {\n  FlatOption,\n  SelectOptionGroupProps,\n  SelectOptionObject,\n  SelectOptionProps,\n} from '../types';\n\nexport const getFlatOptions = (options: SelectOptionProps[]) =>\n  options.reduce(\n    (\n      acc: {\n        flatOptions: FlatOption[];\n        navigationOptions: SelectOptionObject[];\n      },\n      option: SelectOptionProps\n    ) => {\n      const optionAsGroup = option as SelectOptionGroupProps;\n      if (optionAsGroup.options) {\n        // Include the divider\n        const groupPseudoOptions = [{}];\n        if (optionAsGroup.label) {\n          // ...and header as pseudo options for windowing purposes\n          groupPseudoOptions.push({ label: optionAsGroup.label });\n        }\n        return {\n          flatOptions: [\n            ...acc.flatOptions,\n            ...groupPseudoOptions,\n            ...optionAsGroup.options,\n          ],\n          navigationOptions: [\n            ...acc.navigationOptions,\n            ...optionAsGroup.options,\n          ],\n        };\n      }\n      return {\n        flatOptions: [...acc.flatOptions, option],\n        navigationOptions: [\n          ...acc.navigationOptions,\n          option as SelectOptionObject,\n        ],\n      };\n    },\n    { flatOptions: [], navigationOptions: [] }\n  );\n\n/**\n * Takes potentially grouped options and returns 2 arrays of flattened options:\n * 1) flatOptions that includes dividers & headers (used for windowing), and\n * 2) navigationOptions that only includes options with values\n * @param options\n */\nexport const useFlatOptions = (options?: SelectOptionProps[]) => {\n  return useMemo(() => {\n    if (!options)\n      return { flatOptions: undefined, navigationOptions: undefined };\n\n    return getFlatOptions(options);\n  }, [options]);\n};\n"],"mappings":"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"}