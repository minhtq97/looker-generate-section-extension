{"version":3,"file":"ButtonItem.js","names":["_react","_interopRequireWildcard","require","_styledComponents","_interopRequireDefault","_designTokens","_pick","_Ripple","_height","_ButtonSetContext","_templateObject","_excluded","_excluded2","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","value","_extends","assign","bind","target","i","arguments","length","source","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ButtonLayout","forwardRef","_ref","forwardedRef","children","className","onClick","style","props","_useContext","useContext","ButtonSetContext","disabled","contextValue","onItemClick","handleClick","e","defaultPrevented","itemValue","undefined","selected","includes","_useBoundedRipple","useBoundedRipple","color","ref","callbacks","rippleProps","rippleHandlers","useRippleHandlers","pick","rippleHandlerKeys","createElement","type","omitStyledProps","displayName","ButtonItem","styled","withConfig","componentId","rippleStyle","_ref2","theme","colors","text3","_ref3","fontSizes","small","inputHeight","_ref4","space","u3","_ref5","transitions","quick","_ref6","neutralSubtle","_ref7","text5","_ref8","text1","_ref9","keyAccent","_ref10","_ref11","keySubtle","_ref12","keyFocus","_ref13","keyInteractive","exports"],"sources":["../../../src/Button/ButtonItem.tsx"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport type { MouseEvent, Ref } from 'react';\nimport React, { forwardRef, useContext } from 'react';\nimport styled from 'styled-components';\nimport type { CompatibleHTMLProps, SpaceProps } from '@looker/design-tokens';\nimport { space, omitStyledProps } from '@looker/design-tokens';\nimport pick from 'lodash/pick';\nimport {\n  rippleHandlerKeys,\n  rippleStyle,\n  useBoundedRipple,\n  useRippleHandlers,\n} from '../Ripple';\nimport { inputHeight } from '../Form/Inputs/height';\nimport { ButtonSetContext } from './ButtonSetContext';\n\nexport interface ButtonItemProps\n  extends SpaceProps,\n    Omit<CompatibleHTMLProps<HTMLButtonElement>, 'type' | 'aria-pressed'> {\n  value?: string;\n}\n\nconst ButtonLayout = forwardRef(\n  (\n    { children, className, onClick, style, value, ...props }: ButtonItemProps,\n    forwardedRef: Ref<HTMLButtonElement>\n  ) => {\n    const {\n      disabled,\n      value: contextValue,\n      onItemClick,\n    } = useContext(ButtonSetContext);\n\n    function handleClick(e: MouseEvent<HTMLButtonElement>) {\n      onClick && onClick(e);\n      if (!e.defaultPrevented) {\n        onItemClick && onItemClick(e);\n      }\n    }\n\n    let itemValue = '';\n\n    if (value !== undefined) {\n      itemValue = value;\n    } else if (typeof children === 'string') {\n      itemValue = children;\n    }\n\n    let selected = false;\n\n    if (contextValue) {\n      if (typeof contextValue === 'string') {\n        selected = contextValue === itemValue;\n      } else {\n        selected = contextValue.includes(itemValue);\n      }\n    }\n\n    const { callbacks, ...rippleProps } = useBoundedRipple({\n      className,\n      color: selected ? 'key' : 'neutral',\n      ref: forwardedRef,\n      style,\n    });\n    const rippleHandlers = useRippleHandlers(\n      callbacks,\n      pick(props, rippleHandlerKeys),\n      disabled\n    );\n\n    return (\n      <button\n        aria-pressed={selected}\n        onClick={handleClick}\n        value={itemValue}\n        disabled={disabled}\n        type=\"button\"\n        {...omitStyledProps(props)}\n        {...rippleProps}\n        {...rippleHandlers}\n      >\n        {children}\n      </button>\n    );\n  }\n);\n\nButtonLayout.displayName = 'ButtonLayout';\n\nexport const ButtonItem = styled(ButtonLayout)`\n  ${rippleStyle}\n  align-items: center;\n  background: transparent;\n  border: none;\n  color: ${({ theme }) => theme.colors.text3};\n  cursor: pointer;\n  display: inline-flex;\n  font-family: inherit;\n  font-size: ${({ theme }) => theme.fontSizes.small};\n  height: ${inputHeight};\n  justify-content: center;\n  margin: 0;\n  padding: 0 ${({ theme }) => theme.space.u3};\n  transition: background ${({ theme }) => theme.transitions.quick}ms ease;\n  user-select: none;\n\n  ${space}\n\n  &:active,\n  &:hover {\n    background: ${({ theme }) => theme.colors.neutralSubtle};\n    color: ${({ theme }) => theme.colors.text5};\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &[disabled] {\n    color: ${({ theme }) => theme.colors.text1};\n    cursor: default;\n\n    &:hover {\n      background: inherit;\n    }\n  }\n\n  &[aria-pressed='true'] {\n    background: ${({ theme }) => theme.colors.keyAccent};\n    color: ${({ theme }) => theme.colors.text5};\n\n    &[disabled] {\n      background: ${({ theme }) => theme.colors.keySubtle};\n      color: ${({ theme }) => theme.colors.keyFocus};\n    }\n\n    &:hover {\n      border: 1px solid ${({ theme }) => theme.colors.keyInteractive};\n    }\n  }\n`;\n"],"mappings":";;;;;;;AA2BA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAF,sBAAA,CAAAF,OAAA;AACA,IAAAK,OAAA,GAAAL,OAAA;AAMA,IAAAM,OAAA,GAAAN,OAAA;AACA,IAAAO,iBAAA,GAAAP,OAAA;AAAsD,IAAAQ,eAAA;AAAA,IAAAC,SAAA;EAAAC,UAAA;AAAA,SAAAR,uBAAAS,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAf,wBAAAY,GAAA,EAAAG,WAAA,SAAAA,WAAA,IAAAH,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAO,OAAA,CAAAP,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAQ,KAAA,GAAAN,wBAAA,CAAAC,WAAA,OAAAK,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,cAAAX,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAAA,SAAAW,uBAAAC,OAAA,EAAAC,GAAA,SAAAA,GAAA,IAAAA,GAAA,GAAAD,OAAA,CAAAE,KAAA,cAAAZ,MAAA,CAAAa,MAAA,CAAAb,MAAA,CAAAc,gBAAA,CAAAJ,OAAA,IAAAC,GAAA,IAAAI,KAAA,EAAAf,MAAA,CAAAa,MAAA,CAAAF,GAAA;AAAA,SAAAK,SAAA,IAAAA,QAAA,GAAAhB,MAAA,CAAAiB,MAAA,GAAAjB,MAAA,CAAAiB,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAjB,GAAA,IAAAoB,MAAA,QAAAvB,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAiB,MAAA,EAAApB,GAAA,KAAAgB,MAAA,CAAAhB,GAAA,IAAAoB,MAAA,CAAApB,GAAA,gBAAAgB,MAAA,YAAAH,QAAA,CAAAQ,KAAA,OAAAH,SAAA;AAAA,SAAAI,yBAAAF,MAAA,EAAAG,QAAA,QAAAH,MAAA,yBAAAJ,MAAA,GAAAQ,6BAAA,CAAAJ,MAAA,EAAAG,QAAA,OAAAvB,GAAA,EAAAiB,CAAA,MAAApB,MAAA,CAAA4B,qBAAA,QAAAC,gBAAA,GAAA7B,MAAA,CAAA4B,qBAAA,CAAAL,MAAA,QAAAH,CAAA,MAAAA,CAAA,GAAAS,gBAAA,CAAAP,MAAA,EAAAF,CAAA,MAAAjB,GAAA,GAAA0B,gBAAA,CAAAT,CAAA,OAAAM,QAAA,CAAAI,OAAA,CAAA3B,GAAA,uBAAAH,MAAA,CAAAI,SAAA,CAAA2B,oBAAA,CAAAzB,IAAA,CAAAiB,MAAA,EAAApB,GAAA,aAAAgB,MAAA,CAAAhB,GAAA,IAAAoB,MAAA,CAAApB,GAAA,cAAAgB,MAAA;AAAA,SAAAQ,8BAAAJ,MAAA,EAAAG,QAAA,QAAAH,MAAA,yBAAAJ,MAAA,WAAAa,UAAA,GAAAhC,MAAA,CAAAiC,IAAA,CAAAV,MAAA,OAAApB,GAAA,EAAAiB,CAAA,OAAAA,CAAA,MAAAA,CAAA,GAAAY,UAAA,CAAAV,MAAA,EAAAF,CAAA,MAAAjB,GAAA,GAAA6B,UAAA,CAAAZ,CAAA,OAAAM,QAAA,CAAAI,OAAA,CAAA3B,GAAA,kBAAAgB,MAAA,CAAAhB,GAAA,IAAAoB,MAAA,CAAApB,GAAA,YAAAgB,MAAA;AAQtD,IAAMe,YAAY,GAAG,IAAAC,iBAAU,EAC7B,UAAAC,IAAA,EAEEC,YAAoC,EACjC;EAAA,IAFDC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAAEC,SAAS,GAAAH,IAAA,CAATG,SAAS;IAAEC,OAAO,GAAAJ,IAAA,CAAPI,OAAO;IAAEC,KAAK,GAAAL,IAAA,CAALK,KAAK;IAAE1B,KAAK,GAAAqB,IAAA,CAALrB,KAAK;IAAK2B,KAAK,GAAAjB,wBAAA,CAAAW,IAAA,EAAAnD,SAAA;EAGtD,IAAA0D,WAAA,GAII,IAAAC,iBAAU,EAACC,kCAAgB,CAAC;IAH9BC,QAAQ,GAAAH,WAAA,CAARG,QAAQ;IACDC,YAAY,GAAAJ,WAAA,CAAnB5B,KAAK;IACLiC,WAAW,GAAAL,WAAA,CAAXK,WAAW;EAGb,SAASC,WAAWA,CAACC,CAAgC,EAAE;IACrDV,OAAO,IAAIA,OAAO,CAACU,CAAC,CAAC;IACrB,IAAI,CAACA,CAAC,CAACC,gBAAgB,EAAE;MACvBH,WAAW,IAAIA,WAAW,CAACE,CAAC,CAAC;IAC/B;EACF;EAEA,IAAIE,SAAS,GAAG,EAAE;EAElB,IAAIrC,KAAK,KAAKsC,SAAS,EAAE;IACvBD,SAAS,GAAGrC,KAAK;EACnB,CAAC,MAAM,IAAI,OAAOuB,QAAQ,KAAK,QAAQ,EAAE;IACvCc,SAAS,GAAGd,QAAQ;EACtB;EAEA,IAAIgB,QAAQ,GAAG,KAAK;EAEpB,IAAIP,YAAY,EAAE;IAChB,IAAI,OAAOA,YAAY,KAAK,QAAQ,EAAE;MACpCO,QAAQ,GAAGP,YAAY,KAAKK,SAAS;IACvC,CAAC,MAAM;MACLE,QAAQ,GAAGP,YAAY,CAACQ,QAAQ,CAACH,SAAS,CAAC;IAC7C;EACF;EAEA,IAAAI,iBAAA,GAAsC,IAAAC,wBAAgB,EAAC;MACrDlB,SAAS,EAATA,SAAS;MACTmB,KAAK,EAAEJ,QAAQ,GAAG,KAAK,GAAG,SAAS;MACnCK,GAAG,EAAEtB,YAAY;MACjBI,KAAK,EAALA;IACF,CAAC,CAAC;IALMmB,SAAS,GAAAJ,iBAAA,CAATI,SAAS;IAAKC,WAAW,GAAApC,wBAAA,CAAA+B,iBAAA,EAAAtE,UAAA;EAMjC,IAAM4E,cAAc,GAAG,IAAAC,yBAAiB,EACtCH,SAAS,EACT,IAAAI,gBAAI,EAACtB,KAAK,EAAEuB,yBAAiB,CAAC,EAC9BnB,QACF,CAAC;EAED,OACExE,MAAA,YAAA4F,aAAA,WAAAlD,QAAA;IACE,gBAAcsC,QAAS;IACvBd,OAAO,EAAES,WAAY;IACrBlC,KAAK,EAAEqC,SAAU;IACjBN,QAAQ,EAAEA,QAAS;IACnBqB,IAAI,EAAC;EAAQ,GACT,IAAAC,6BAAe,EAAC1B,KAAK,CAAC,EACtBmB,WAAW,EACXC,cAAc,GAEjBxB,QACK,CAAC;AAEb,CACF,CAAC;AAEDJ,YAAY,CAACmC,WAAW,GAAG,cAAc;AAElC,IAAMC,UAAU,GAAG,IAAAC,4BAAM,EAACrC,YAAY,CAAC,CAAAsC,UAAA;EAAAH,WAAA;EAAAI,WAAA;AAAA,GAAAzF,eAAA,KAAAA,eAAA,GAAAyB,sBAAA,0wBAC1CiE,mBAAW,EAIJ,UAAAC,KAAA;EAAA,IAAGC,KAAK,GAAAD,KAAA,CAALC,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACC,KAAK;AAAA,GAI7B,UAAAC,KAAA;EAAA,IAAGH,KAAK,GAAAG,KAAA,CAALH,KAAK;EAAA,OAAOA,KAAK,CAACI,SAAS,CAACC,KAAK;AAAA,GACvCC,mBAAW,EAGR,UAAAC,KAAA;EAAA,IAAGP,KAAK,GAAAO,KAAA,CAALP,KAAK;EAAA,OAAOA,KAAK,CAACQ,KAAK,CAACC,EAAE;AAAA,GACjB,UAAAC,KAAA;EAAA,IAAGV,KAAK,GAAAU,KAAA,CAALV,KAAK;EAAA,OAAOA,KAAK,CAACW,WAAW,CAACC,KAAK;AAAA,GAG7DJ,mBAAK,EAIS,UAAAK,KAAA;EAAA,IAAGb,KAAK,GAAAa,KAAA,CAALb,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACa,aAAa;AAAA,GAC9C,UAAAC,KAAA;EAAA,IAAGf,KAAK,GAAAe,KAAA,CAALf,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACe,KAAK;AAAA,GAQjC,UAAAC,KAAA;EAAA,IAAGjB,KAAK,GAAAiB,KAAA,CAALjB,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACiB,KAAK;AAAA,GAS5B,UAAAC,KAAA;EAAA,IAAGnB,KAAK,GAAAmB,KAAA,CAALnB,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACmB,SAAS;AAAA,GAC1C,UAAAC,MAAA;EAAA,IAAGrB,KAAK,GAAAqB,MAAA,CAALrB,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACe,KAAK;AAAA,GAG1B,UAAAM,MAAA;EAAA,IAAGtB,KAAK,GAAAsB,MAAA,CAALtB,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACsB,SAAS;AAAA,GAC1C,UAAAC,MAAA;EAAA,IAAGxB,KAAK,GAAAwB,MAAA,CAALxB,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAACwB,QAAQ;AAAA,GAIzB,UAAAC,MAAA;EAAA,IAAG1B,KAAK,GAAA0B,MAAA,CAAL1B,KAAK;EAAA,OAAOA,KAAK,CAACC,MAAM,CAAC0B,cAAc;AAAA,EAGnE;AAACC,OAAA,CAAAlC,UAAA,GAAAA,UAAA"}