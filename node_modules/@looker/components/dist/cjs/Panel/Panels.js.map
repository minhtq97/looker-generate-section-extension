{"version":3,"file":"Panels.js","names":["_componentsProviders","require","_react","_interopRequireWildcard","_styledComponents","_interopRequireDefault","_templateObject","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","value","PanelsContext","createContext","exports","displayName","activatePanel","_ref","element","panel","closest","container","style","visibility","Panels","styled","props","createElement","TrapStackProvider","activate","context","withConfig","componentId"],"sources":["../../../src/Panel/Panels.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { TrapStackContextProps, Trap } from '@looker/components-providers';\nimport { TrapStackProvider } from '@looker/components-providers';\nimport type { CompatibleHTMLProps } from '@looker/design-tokens';\nimport React, { createContext } from 'react';\nimport styled from 'styled-components';\n\nexport const PanelsContext = createContext<TrapStackContextProps>({});\nPanelsContext.displayName = 'PanelsContext';\n\nconst activatePanel = ({ element }: Trap) => {\n  // The element is a hidden div inside the panel\n  // NOTE: data-panel & data-panels are used as a quick way to find these elemens\n  // in the absence of an appropriate aria role\n  const panel = element.closest<HTMLDivElement>('[data-panel]');\n  const container = element.closest<HTMLDivElement>('[data-panels]');\n  if (panel && container) {\n    // The active Panel covers all other content in Panels\n    // Adding visibility: hidden to Panels avoids moving focus\n    // to any hidden content via keyboard nav\n    container.style.visibility = 'hidden';\n    // Override visibility only in the active Panel\n    panel.style.visibility = 'visible';\n  }\n\n  // Deactivation, remove visibility styles\n  return () => {\n    if (panel && container) {\n      panel.style.visibility = '';\n      container.style.visibility = '';\n    }\n  };\n};\n\nexport type PanelsProps = CompatibleHTMLProps<HTMLDivElement>;\n\nexport const Panels = styled((props: PanelsProps) => {\n  // TrapStackProvider calculates the topmost active Panel and activates\n  // the visibility styles accordingly\n  return (\n    <TrapStackProvider activate={activatePanel} context={PanelsContext}>\n      <div {...props} data-panels />\n    </TrapStackProvider>\n  );\n})`\n  height: 100%;\n  position: relative;\n  width: 100%;\n`;\n"],"mappings":";;;;;;;AAMA,IAAAA,oBAAA,GAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAC,uBAAA,CAAAF,OAAA;AACA,IAAAG,iBAAA,GAAAC,sBAAA,CAAAJ,OAAA;AAAuC,IAAAK,eAAA;AAAA,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAP,wBAAAI,GAAA,EAAAG,WAAA,SAAAA,WAAA,IAAAH,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAO,OAAA,CAAAP,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAQ,KAAA,GAAAN,wBAAA,CAAAC,WAAA,OAAAK,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,cAAAX,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAAA,SAAAW,SAAA,IAAAA,QAAA,GAAAT,MAAA,CAAAU,MAAA,GAAAV,MAAA,CAAAU,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAV,GAAA,IAAAa,MAAA,QAAAhB,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAU,MAAA,EAAAb,GAAA,KAAAS,MAAA,CAAAT,GAAA,IAAAa,MAAA,CAAAb,GAAA,gBAAAS,MAAA,YAAAH,QAAA,CAAAQ,KAAA,OAAAH,SAAA;AAAA,SAAAI,uBAAAC,OAAA,EAAAC,GAAA,SAAAA,GAAA,IAAAA,GAAA,GAAAD,OAAA,CAAAE,KAAA,cAAArB,MAAA,CAAAsB,MAAA,CAAAtB,MAAA,CAAAuB,gBAAA,CAAAJ,OAAA,IAAAC,GAAA,IAAAI,KAAA,EAAAxB,MAAA,CAAAsB,MAAA,CAAAF,GAAA;AAEhC,IAAMK,aAAa,GAAG,IAAAC,oBAAa,EAAwB,CAAC,CAAC,CAAC;AAACC,OAAA,CAAAF,aAAA,GAAAA,aAAA;AACtEA,aAAa,CAACG,WAAW,GAAG,eAAe;AAE3C,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAA0B;EAAA,IAApBC,OAAO,GAAAD,IAAA,CAAPC,OAAO;EAI9B,IAAMC,KAAK,GAAGD,OAAO,CAACE,OAAO,CAAiB,cAAc,CAAC;EAC7D,IAAMC,SAAS,GAAGH,OAAO,CAACE,OAAO,CAAiB,eAAe,CAAC;EAClE,IAAID,KAAK,IAAIE,SAAS,EAAE;IAItBA,SAAS,CAACC,KAAK,CAACC,UAAU,GAAG,QAAQ;IAErCJ,KAAK,CAACG,KAAK,CAACC,UAAU,GAAG,SAAS;EACpC;EAGA,OAAO,YAAM;IACX,IAAIJ,KAAK,IAAIE,SAAS,EAAE;MACtBF,KAAK,CAACG,KAAK,CAACC,UAAU,GAAG,EAAE;MAC3BF,SAAS,CAACC,KAAK,CAACC,UAAU,GAAG,EAAE;IACjC;EACF,CAAC;AACH,CAAC;AAIM,IAAMC,MAAM,GAAG,IAAAC,4BAAM,EAAC,UAACC,KAAkB,EAAK;EAGnD,OACEzD,MAAA,YAAA0D,aAAA,CAAC5D,oBAAA,CAAA6D,iBAAiB;IAACC,QAAQ,EAAEb,aAAc;IAACc,OAAO,EAAElB;EAAc,GACjE3C,MAAA,YAAA0D,aAAA,QAAA/B,QAAA,KAAS8B,KAAK;IAAE;EAAW,EAAE,CACZ,CAAC;AAExB,CAAC,CAAC,CAAAK,UAAA;EAAAhB,WAAA;EAAAiB,WAAA;AAAA,GAAA3D,eAAA,KAAAA,eAAA,GAAAgC,sBAAA,kEAID;AAACS,OAAA,CAAAU,MAAA,GAAAA,MAAA"}