{"version":3,"file":"types.js","names":[],"sources":["../../../../src/components/ExtensionConnector/types.ts"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2021 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport type { ReactNode } from 'react';\nimport type {\n  ExtensionHostApi,\n  ExtensionSDK,\n  LookerHostData,\n  RawVisualizationData,\n  TileHostData,\n  TileSDK,\n  VisualizationSDK,\n} from '@looker/extension-sdk';\n\n/**\n * Base extension context\n */\nexport interface BaseExtensionContextData {\n  /**\n   * Extension SDK.\n   */\n  extensionSDK: ExtensionSDK;\n  /**\n   * Looker host data\n   */\n  lookerHostData?: Readonly<LookerHostData>;\n  /**\n   * Error message will be set in an initialization error occurs.\n   * @deprecated if an initialization error occurs the extension\n   * component is no longer rendered. initializeError will ALWAYS\n   * be undefined\n   */\n  initializeError?: string;\n  /**\n   * Current route\n   */\n  route: string;\n  /**\n   * Current route state\n   */\n  routeState?: any;\n  /**\n   * Visualization data.\n   */\n  visualizationData?: Readonly<RawVisualizationData>;\n  /**\n   * Visualization api.\n   */\n  visualizationSDK: VisualizationSDK;\n  /**\n   * Tile host data\n   */\n  tileHostData: Readonly<TileHostData>;\n  /**\n   * Tile api.\n   */\n  tileSDK: TileSDK;\n}\n\nexport interface RouteData {\n  route: string;\n  routeState?: any;\n}\n\nexport interface ExtensionProviderProps {\n  /**\n   * When true, a react router MemoryRouter will be created and changes to the\n   * extension route will be propagated to the host. The host will then track\n   * the clients route by appending it to the host route.\n   * Note that this is only supported where the extension is mounted\n   * in the main extension view. If the extension is mounted as a component of a\n   * looker composite component (dashboard for example), hostTracksRoute will be\n   * ignored.\n   */\n  hostTracksRoute?: boolean;\n  /**\n   * Pathname change callback. Use when extension components need to modify their\n   * state based upon the current route.\n   */\n  onPathnameChange?: (pathname: string) => void;\n  /**\n   * Route change callback. Use when extension components need to modify their\n   * state based upon the current route. Alternate to onPathname change and\n   * provides more details\n   */\n  onRouteChange?: (route: string, routeState?: any) => void;\n  /**\n   * Loading component to display while the provider is\n   * establishing communication with the Looker host\n   */\n  loadingComponent?: JSX.Element;\n  /**\n   * Required looker version. An error will be thrown if the host\n   * Looker is not at the version specified.\n   */\n  requiredLookerVersion?: string;\n  /**\n   * Timeout for messages sent via chatty. Defaults to 30000 milliseconds.\n   * Set to -1 for no timeout.\n   */\n  chattyTimeout?: number;\n  /**\n   * Children\n   */\n  children?: ReactNode;\n}\n\nexport interface ExtensionConnectorProps extends ExtensionProviderProps {\n  contextData: BaseExtensionContextData;\n  connectedCallback: (extensionSDK: ExtensionHostApi) => void;\n  updateContextData: (contextData: Partial<BaseExtensionContextData>) => void;\n  unloadedCallback: () => void;\n}\n"],"mappings":""}